import{x as C,r as d,e as D,c as a,a as e,u as s,f as y,t as g,C as h,h as p,v as f,F as S,E as A,d as B,y as E,o}from"./DF66RuPJ.js";const L={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},V={key:0,class:"flex justify-center items-center py-12"},z={key:1,class:"space-y-8"},M={class:"bg-white dark:bg-gray-800 shadow rounded-lg p-6"},F={class:"flex items-center justify-between"},N={class:"text-sm text-gray-600 dark:text-gray-400"},P={class:"text-xs text-gray-500 dark:text-gray-500 mt-1"},G=["disabled"],T={class:"bg-white dark:bg-gray-800 shadow rounded-lg p-6"},U={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},j={class:"bg-white dark:bg-gray-800 shadow rounded-lg p-6"},R={class:"grid grid-cols-3 md:grid-cols-6 gap-4"},q=["onUpdate:modelValue"],H={class:"mt-2 text-xs text-gray-500 dark:text-gray-400"},W={class:"flex justify-end"},$=["disabled"],I={key:0},J={key:1,class:"flex items-center"},K={key:0,class:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-md p-4"},O={key:1,class:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md p-4"},Q={class:"flex"},X={class:"ml-3"},Y={class:"text-sm text-red-700 dark:text-red-400"},te={__name:"config",setup(Z){const{$api:b}=C(),r=d({isActive:!0,maxSpinsPerDay:3,wheelSettings:{spinDuration:3e3,colors:["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD"]}}),m=d(!0),l=d(!1),x=d(!1),n=d(""),w=async()=>{try{m.value=!0;const i=await b.get("/admin/config",{withCredentials:!0});r.value=i.data.config}catch(i){console.error("Error loading configuration:",i),n.value="Error al cargar la configuración"}finally{m.value=!1}},k=async()=>{r.value.isActive=!r.value.isActive,await v()},v=async()=>{try{l.value=!0,n.value="",await b.put("/admin/config",r.value,{withCredentials:!0}),x.value=!0,setTimeout(()=>{x.value=!1},3e3)}catch(i){console.error("Error saving configuration:",i),n.value=i.response?.data?.message||"Error al guardar la configuración"}finally{l.value=!1}};return D(()=>{w()}),(i,t)=>(o(),a("div",L,[t[13]||(t[13]=e("div",{class:"mb-8"},[e("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white"}," ⚙️ Configuración de la Ruleta "),e("p",{class:"mt-2 text-gray-600 dark:text-gray-400"}," Gestiona la configuración general del sistema ")],-1)),s(m)?(o(),a("div",V,[...t[2]||(t[2]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"},null,-1)])])):(o(),a("div",z,[e("div",M,[t[3]||(t[3]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-4"}," Estado de la Ruleta ",-1)),e("div",F,[e("div",null,[e("p",N,g(s(r).isActive?"La ruleta está actualmente activa":"La ruleta está actualmente desactivada"),1),e("p",P," Los usuarios "+g(s(r).isActive?"pueden":"no pueden")+" girar la ruleta ",1)]),e("button",{onClick:k,disabled:s(l),class:h(["relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",s(r).isActive?"bg-blue-600":"bg-gray-200 dark:bg-gray-700"])},[e("span",{class:h(["pointer-events-none inline-block h-5 w-5 rounded-full bg-white shadow transform ring-0 transition ease-in-out duration-200",s(r).isActive?"translate-x-5":"translate-x-0"])},null,2)],10,G)])]),e("div",T,[t[8]||(t[8]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-4"}," Configuración de Giros ",-1)),e("div",U,[e("div",null,[t[4]||(t[4]=e("label",{for:"maxSpinsPerDay",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Máximo de giros por día ",-1)),p(e("input",{id:"maxSpinsPerDay","onUpdate:modelValue":t[0]||(t[0]=u=>s(r).maxSpinsPerDay=u),type:"number",min:"1",max:"10",class:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white sm:text-sm"},null,512),[[f,s(r).maxSpinsPerDay,void 0,{number:!0}]]),t[5]||(t[5]=e("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"}," Número máximo de giros que un usuario puede hacer por día ",-1))]),e("div",null,[t[6]||(t[6]=e("label",{for:"spinDuration",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Duración del giro (ms) ",-1)),p(e("input",{id:"spinDuration","onUpdate:modelValue":t[1]||(t[1]=u=>s(r).wheelSettings.spinDuration=u),type:"number",min:"1000",max:"10000",step:"500",class:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white sm:text-sm"},null,512),[[f,s(r).wheelSettings.spinDuration,void 0,{number:!0}]]),t[7]||(t[7]=e("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"}," Tiempo en milisegundos que dura la animación del giro ",-1))])])]),e("div",j,[t[9]||(t[9]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-4"}," Colores de la Ruleta ",-1)),e("div",R,[(o(!0),a(S,null,A(s(r).wheelSettings.colors,(u,c)=>(o(),a("div",{key:c,class:"flex flex-col items-center"},[p(e("input",{"onUpdate:modelValue":_=>s(r).wheelSettings.colors[c]=_,type:"color",class:"w-12 h-12 rounded-lg border-2 border-gray-300 dark:border-gray-600 cursor-pointer"},null,8,q),[[f,s(r).wheelSettings.colors[c]]]),e("span",H,g(c+1),1)]))),128))])]),e("div",W,[e("button",{onClick:v,disabled:s(l),class:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200"},[s(l)?(o(),a("span",J,[...t[10]||(t[10]=[e("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),B(" Guardando... ",-1)])])):(o(),a("span",I,"💾 Guardar Configuración"))],8,$)]),s(x)?(o(),a("div",K,[...t[11]||(t[11]=[E('<div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-green-400" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg></div><div class="ml-3"><p class="text-sm text-green-700 dark:text-green-400"> Configuración guardada exitosamente </p></div></div>',1)])])):y("",!0),s(n)?(o(),a("div",O,[e("div",Q,[t[12]||(t[12]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})])],-1)),e("div",X,[e("p",Y,g(s(n)),1)])])])):y("",!0)]))]))}};export{te as default};

import{_ as B,a as z}from"./10A1TdmY.js";import{_ as V}from"./B3jyZpaW.js";import{r as d,e as E,n as L,c as s,a as e,f as p,u as a,g as M,h as N,v as P,i as S,d as g,b as x,j as W,w as T,k as j,o as r}from"./DF66RuPJ.js";import{u as H}from"./BBmUIEBS.js";import{u as I}from"./CYNNm3xl.js";const $={class:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8"},A={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8"},G={key:0,class:"max-w-md mx-auto"},q={class:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6"},D=["disabled"],J={key:0},R={key:1,class:"flex items-center justify-center"},U={key:1},F={key:2,class:"mt-8 text-center"},ee={__name:"play",setup(K){H({title:"Jugar - BonoCopas Wheel",meta:[{name:"description",content:"Gira la ruleta de BonoCopas y gana increÃ­bles premios. Â¡Entra y juega ahora!"}]});const{user:u,login:f,logout:y}=I(),n=d(""),l=d(!1),i=d(!1),c=d(null),b=async()=>{if(n.value){l.value=!0;try{await f(n.value)}catch(o){console.error("Login error:",o)}finally{l.value=!1}}},h=async()=>{try{await y(),await j("/login")}catch(o){console.error("Logout error:",o)}},v=o=>{c.value=o,i.value=!0},w=()=>{i.value=!1};return E(()=>{u.value||L(()=>{const o=document.getElementById("email");o&&o.focus()})}),(o,t)=>{const _=z,k=B,C=V;return r(),s("div",$,[e("div",A,[t[6]||(t[6]=e("div",{class:"text-center mb-8"},[e("h1",{class:"text-4xl font-bold text-gray-900 dark:text-white mb-2"}," ðŸŽ¯ BonoCopas Wheel "),e("p",{class:"text-lg text-gray-600 dark:text-gray-300"}," Â¡Gira la ruleta y gana increÃ­bles premios! ")],-1)),a(u)?(r(),s("div",U,[x(_,{onPrizeWon:v}),a(i)?(r(),W(k,{key:0,spin:a(c),onClose:t[1]||(t[1]=m=>i.value=!1),onClaim:w},null,8,["spin"])):p("",!0)])):(r(),s("div",G,[e("div",q,[t[4]||(t[4]=e("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white mb-4 text-center"}," Iniciar SesiÃ³n ",-1)),e("form",{onSubmit:M(b,["prevent"]),class:"space-y-4"},[e("div",null,[t[2]||(t[2]=e("label",{for:"email",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Email ",-1)),N(e("input",{"onUpdate:modelValue":t[0]||(t[0]=m=>S(n)?n.value=m:null),type:"email",id:"email",required:"",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"tu@email.com"},null,512),[[P,a(n)]])]),e("button",{type:"submit",disabled:a(l),class:"w-full px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-medium rounded-lg transition-all duration-200 disabled:opacity-50"},[a(l)?(r(),s("span",R,[...t[3]||(t[3]=[e("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),g(" Entrando... ",-1)])])):(r(),s("span",J,"Entrar"))],8,D)],32)])])),a(u)?(r(),s("div",F,[x(C,{to:"/history",class:"inline-flex items-center px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white font-medium rounded-lg transition-colors mr-4"},{default:T(()=>[...t[5]||(t[5]=[g(" ðŸ“‹ Ver Historial ",-1)])]),_:1}),e("button",{onClick:h,class:"inline-flex items-center px-4 py-2 bg-red-600 hover:bg-red-700 text-white font-medium rounded-lg transition-colors"}," ðŸšª Salir ")])):p("",!0)])])}}};export{ee as default};
